<mat-card *ngIf="exam">
  <mat-card-header>
    <mat-card-title>{{ exam.subject.name }}</mat-card-title>
    <mat-card-subtitle>{{ exam.startTime | date: 'dd.MM.yyyy' }}, {{ exam.startTime | date: 'hh:mm' }}  - {{ exam.endTime | date: 'hh:mm' }}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <mat-divider></mat-divider>
    <section class="exam-details">
      <h2 translate>Professor</h2>
      <div class="professor-information">
        <h3>
          <mat-icon matTooltip="{{ 'Full Name' | translate }}">person</mat-icon>
          <span>{{ exam.professor.fullName }}</span>
        </h3>
        <h4>
          <mat-icon matTooltip="{{ 'Phone Number' | translate }}">phone</mat-icon>
          <span>{{ exam.professor.phoneNumber }}</span>
        </h4>
        <h4>
          <mat-icon matTooltip="{{ 'Email Address' | translate }}">email</mat-icon>
          <a href="mailto:{{ exam.professor.username }}">{{ exam.professor.username }}</a>
        </h4>
        <h4>
          <mat-icon matTooltip="{{ 'Cabinet' | translate }}">place</mat-icon>
          <span>{{ exam.professor.cabinet }}</span>
        </h4>
      </div>
    </section>
    <mat-divider></mat-divider>
    <section class="enrolled-students">
      <h2>
        <span translate>Enrolled Students</span>
        <span>({{ exam.participationRequests.length }}/{{ exam.maxSeats }})</span>
      </h2>
      <mat-list *ngIf="exam.participationRequests.length > 0">
        <mat-list-item *ngFor="let pr of exam.participationRequests">
          <span class="request-status" [ngClass]="pr.status | lowercase" matListIcon [ngSwitch]="pr.status">
            <mat-icon *ngSwitchCase="'APPROVED'" matTooltip="{{ 'Approved' | translate }}">done</mat-icon>
            <mat-icon *ngSwitchCase="'REJECTED'" matTooltip="{{ 'Rejected' | translate }}">close</mat-icon>
            <mat-icon *ngSwitchDefault matTooltip="{{ 'Pending' | translate }}">help_outline</mat-icon>
          </span>
          <h3 matLine>
            {{ pr.student.fullName || pr.student.username }}
          </h3>
          <p class="mat-caption" matLine>
            {{ pr.student.facultyNumber }}, {{ pr.student.specialty }} ({{ pr.student.groupNumber }})
          </p>
          <button class="approve" (click)="approveStudent(pr)" mat-button *ngIf="pr.status === 'PENDING'">
            <span translate>Approve</span>
          </button>
          <button class="reject" (click)="openRejectStudentModal(pr)" mat-button *ngIf="pr.status === 'PENDING'">
            <span translate>Reject</span>
          </button>
        </mat-list-item>
      </mat-list>
      <p class="no-enrolled" *ngIf="exam.participationRequests.length === 0" translate>There are no students who enrolled yet</p>
    </section>
  </mat-card-content>
</mat-card>
